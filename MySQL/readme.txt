В файле index.php предложение по оптимизации запроса.

Ещё как предложение по оптимизации при больших выборках лучше данные отдельно вычитывать с каждой таблицы и группировать их на стороне PHP.